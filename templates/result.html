<!-- SMALL-SIZE CHART RESULT PAGE -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Resume Match Result</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    .fade-in { animation: fadeIn 1s ease forwards; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .scale-in { animation: scaleIn 0.8s ease forwards; }
    @keyframes scaleIn {
      from { transform: scale(0.7); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    /* SMALL CHART CONTAINERS */
    .chart-box { width: 200px; height: 200px; margin: auto; }
    .small-chart { width: 120px !important; height: 120px !important; }
    .bar-box { height: 260px; }
  </style>
</head>

<body class="bg-gradient-to-br from-blue-100 via-purple-100 to-indigo-200 min-h-screen p-10 font-sans text-gray-900">

<div class="max-w-5xl mx-auto fade-in">

  <div class="bg-white/40 backdrop-blur-xl rounded-3xl shadow-2xl p-10 border border-white/30">
    <h1 class="text-4xl font-extrabold text-center text-blue-900 drop-shadow-md mb-6">
      üéØ AI Resume Match Result
    </h1>

    <!-- SMALL MATCH SCORE CIRCLE -->
    <div class="chart-box scale-in">
      <canvas class="small-chart" id="matchCircle"></canvas>
    </div>

    <!-- SCORE BOXES -->
    <div class="grid md:grid-cols-2 gap-6 mt-10">

      <div class="bg-green-50 border-l-4 border-green-500 rounded-xl p-5 shadow scale-in">
        <h2 class="text-xl font-semibold text-green-700 mb-2">‚úÖ Skill Match Score</h2>
        <p class="text-2xl font-bold text-green-700">{{ skill_match_score }}/100</p>
      </div>

      <div class="bg-purple-50 border-l-4 border-purple-500 rounded-xl p-5 shadow scale-in">
        <h2 class="text-xl font-semibold text-purple-700 mb-2">üìò Experience Score</h2>
        <p class="text-2xl font-bold text-purple-700">{{ experience_score }}/100</p>
      </div>

      <div class="bg-indigo-50 border-l-4 border-indigo-500 rounded-xl p-5 shadow scale-in">
        <h2 class="text-xl font-semibold text-indigo-700 mb-2">üìù Formatting Score</h2>
        <p class="text-2xl font-bold text-indigo-700">{{ formatting_score }}/100</p>
      </div>

      <div class="bg-pink-50 border-l-4 border-pink-500 rounded-xl p-5 shadow scale-in">
        <h2 class="text-xl font-semibold text-pink-700 mb-2">ü§ñ ATS Score</h2>
        <p class="text-2xl font-bold text-pink-700">{{ ats_score }}/100</p>
      </div>

    </div>

    <!-- SMALL BAR CHART -->
    <div class="mt-12 bg-white/50 p-6 rounded-2xl shadow-lg fade-in bar-box">
      <h2 class="text-2xl font-bold text-blue-900 mb-5">üìä Score Breakdown</h2>
      <canvas id="barChart"></canvas>
    </div>

    <!-- SMALL PIE CHART -->
    <div class="mt-12 bg-white/50 p-6 rounded-2xl shadow-lg fade-in chart-box">
      <h2 class="text-2xl font-bold text-blue-900 mb-5">üß© Skill Coverage</h2>
      <canvas class="small-chart" id="pieChart"></canvas>
    </div>

    <div class="text-center mt-10">
      <a href="/"
         class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold px-8 py-3 rounded-xl shadow hover:scale-105 transition">
        üîÑ Analyze Another Resume
      </a>
    </div>

  </div>

  <!-- FOOTER -->
  <footer class="bg-gray-900 text-white py-8 mt-12 rounded-xl shadow-inner fade-in">
    <div class="text-center">
      <p class="text-lg font-semibold">
        Developed by <span class="text-yellow-300">Yogesh Kumar</span>
      </p>

      <div class="flex justify-center gap-10 mt-4">
        <a href="https://github.com/yogesh-kumar-sharma" target="_blank" class="hover:scale-125 transition">
          <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/github.svg" width="40" class="invert drop-shadow-lg" />
        </a>
        <a href="https://www.linkedin.com/in/yogesh-kumar0" target="_blank" class="hover:scale-125 transition">
          <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" width="40" class="drop-shadow-lg brightness-125" />
        </a>
      </div>

      <p class="text-sm text-gray-400 mt-3">¬© 2025 Yogesh Kumar ‚Äî All Rights Reserved</p>
    </div>
  </footer>

</div>

<script>
  // CIRCLE chart small
  new Chart(document.getElementById("matchCircle"), {
    type: "doughnut",
    data: {
      labels: ["Match", "Remaining"],
      datasets: [{ data: [{{ match_score }}, {{ 100 - match_score }}],
        backgroundColor: ["#10B981", "#E5E7EB"], borderWidth: 0 }]
    },
    options: { cutout: "75%", plugins: { legend: { display: false } } }
  });

  // BAR chart small
  new Chart(document.getElementById("barChart"), {
    type: "bar",
    data: {
      labels: ["Skill", "Experience", "Formatting", "ATS"],
      datasets: [{ data: [
          {{ skill_match_score }},
          {{ experience_score }},
          {{ formatting_score }},
          {{ ats_score }}
        ],
        backgroundColor: ["#10B981", "#8B5CF6", "#6366F1", "#EC4899"] }]
    },
    options: { responsive: true, scales: { y: { beginAtZero: true, max: 100 } } }
  });

  // PIE chart small
  new Chart(document.getElementById("pieChart"), {
    type: "pie",
    data: {
      labels: ["Matched", "Missing"],
      datasets: [{ data: [{{ matched_skills|length }}, {{ missing_skills|length }}],
        backgroundColor: ["#4ADE80", "#F87171"] }]
    },
    options: { plugins: { legend: { display: false } } }
  });
</script>

</body>
</html>
